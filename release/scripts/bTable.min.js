function bTableService(){this.mapGroups=function e(t,l,a,b){angular.forEach(t,function(t,s){l(t,b,s),t.groups?e(t.groups,l,a,t):t.items&&angular.forEach(t.items,function(e,l){a(e,t,l)})})}}function bTableDirective(e){function t(){this.$templates={},this.useTemplate=function(e,t){this.$templates[e]?this.$templates[e].push(t):this.$templates[e]=[t]}}function l(t,l){t.$watchCollection("tableCols",function(){}),t.$watchCollection("tableRows",function(){});var a='<table class="b-table"><caption class="b-table__caption" b-table-template-transclude="caption"></caption><thead class="b-table__head b-table__head_last"><tr><th class="b-table__col b-table__col_title"><div b-table-template-transclude="head-title"></div></td><th class="b-table__col b-table__col_chunk b-table__chunk-head" ng-repeat="tableCol in tableCols" ng-class="{\'b-table__col_chunk-first\':$first,\'b-table__col_chunk-even\':$even,\'b-table__col_chunk-odd\':$odd,\'b-table__col_chunk-last\':$last}"><div b-table-template-transclude="head-col"></div></td></tr></thead><tbody class="b-table__body" ng-repeat="tableRow in tableRows" ng-class="{_groupLast:tableRow.isGroupLast}"><tr class="b-table__row b-table__row_group" ng-if="tableRow.type==\'group\'" ng-show="!tableRow.groupParent||tableRow.groupParent.shown" ng-class="{_shown:tableRow.group.shown}"><td class="b-table__col b-table__col_title"><div b-table-template-transclude="body-group-title"></div></td><td class="b-table__col b-table__col_chunk" ng-repeat="tableCol in tableCols" ng-class="{\'_first\':$first,\'_last\':$last}"><div b-table-template-transclude="body-group-col"></div></td></tr><tr class="b-table__row b-table__row_item" ng-if="!tableRow.type||tableRow.type==\'item\'" ng-show="!tableRow.group||tableRow.group.shown"><td class="b-table__col b-table__col_title"><div b-table-template-transclude="body-title"></div></td><td class="b-table__col b-table__col_chunk" ng-repeat="tableCol in tableCols" ng-class="{\'_first\':$first,\'_last\':$last}"><div b-table-template-transclude="body-col"></div></td></tr></tbody></table>';l.append(e(a)(t))}return{restrict:"E",scope:{tableCols:"=tableCols",tableRows:"=tableRows"},controllerAs:"bTable",controller:t,link:l}}function bTableTemplateDirective(e){function t(t,l,a,b,s){a.id&&b.useTemplate(a.id,{$e:l,$transclude:s,use:e(a.use)()})}return{restrict:"E",require:"^bTable",transclude:"element",link:t}}function bTableTemplateTranscludeDirective(){function e(e,t,l){if(e.bTable&&l.bTableTemplateTransclude){var a=e.bTable.$templates[l.bTableTemplateTransclude];a&&a.length&&angular.forEach(a,function(l){l.$transclude(function(a){var b=a.scope();l.use&&l.use.length&&angular.forEach(l.use,function(t){b[t]=e[t]}),t.append(a)})})}}return{transclude:!0,link:e}}angular.module("bTable",[]).service("bTable",bTableService).directive("bTable",bTableDirective).directive("bTableTemplate",bTableTemplateDirective).directive("bTableTemplateTransclude",bTableTemplateTranscludeDirective),bTableDirective.$inject=["$compile"],bTableTemplateDirective.$inject=["$parse"];